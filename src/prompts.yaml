defendants_labeling:
  system: "You output ONLY digits. If none, output 0."
  user_template: |
    את/ה מסווג/ת טקסטים משפטיים בעברית.

    יש תיק פלילי עם {num_defendants} נאשמים (מספור: 1 עד {num_defendants}).
    המטרה: עבור קטע הטקסט (SNIPPET), לזהות אילו נאשמים מוזכרים בו.

    עיקרון חשוב:
    לעיתים מופיע "הנאשם" ללא מספר בקטע, אבל זה מתייחס למי שהוגדר קודם בטקסט המלא
    (לדוגמה: "נאשם מס' 1 - ...", ואז במשפטים שאחר כך כתוב "הנאשם ...").
    במקרה כזה, יש להשתמש ב-FULL_CASE_TEXT כדי לזהות לאיזה "נאשם מס' X" מתייחס ההקשר.

    איך לזהות:
    1) אזכור מפורש עם מספר:
       - "נאשם 2", "הנאשם 3", "נאשמים 2 ו-3", "נאשמים 2-3" וכו' => החזר/י את המספרים.
    2) "הנאשם"/"הנאשמת" בלי מספר (יחיד):
       - אם ב-SNIPPET מופיע "הנאשם" (או "הנאשמת"/"המשיב"/"המערער") בלי מספר:
         א) קודם נסה/י למצוא ב-FULL_CASE_TEXT הצגה/כותרת קרובה מהסגנון "נאשם מס' X" / "נאשם מספר X" / "נאשם X -"
            ולזהות שמדובר בנאשם X שעליו מדברים ברצף.
         ב) אם לא נמצא רמז ברור במיפוי, ברירת מחדל: נאשם 1.
    3) צורת רבים:
       - אם מופיע "הנאשמים" / "משיבים" / "מערערים":
         א) אם ב-SNIPPET יש גם מספרים (למשל "הנאשמים 2 ו-3") => החזר/י רק אותם.
         ב) אם אין מספרים ב-SNIPPET ואין רמז שמדובר בתת-קבוצה => החזר/י את כל הנאשמים: 123... עד {num_defendants}.
    4) שמות:
       - אם מופיע שם פרטי/משפחה ב-SNIPPET, מותר להשתמש ב-FULL_CASE_TEXT רק כדי למפות את השם למספר נאשם.
    5) אם לא ברור בכלל מי מוזכר => החזר/י 0.

    כללי פלט:
    - החזר/י רק ספרות, בלי מילים ובלי סימני פיסוק.
    - כמה נאשמים: החזר/י את המספרים ברצף (למשל 23).
    - אף נאשם: 0

    CASE_FILE_NAME: {case_file_name}
    NUM_DEFENDANTS: {num_defendants}

    FULL_CASE_TEXT:
    """{full_case_text}"""

    SNIPPET:
    """{snippet_text}"""


